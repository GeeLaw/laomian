\usepackage{hypcap}

\makeatletter
% \stringall<token sequence>\endstringall
%   converts the token sequence to their string representation.
% This macro is not intended for general use.
% It is only for the example body to demonstrate how to use several features.
% Importantly, the macro does not handle the difference between \bgroup and {,
% nor does it handle spaces well.
\def\stringall{\@ifnextchar\endstringall
  {\stringall@}%
  {\@ifnextchar\bgroup{\stringall@@}{\stringall@@@}}%
}
\def\stringall@\endstringall{}
\def\stringall@@#1{\string{\stringall#1\endstringall\string}\stringall}
\def\stringall@@@#1{\string#1\stringall}
\makeatother

% These are defined to make example content from crypto-paper still work.
\def\defcallout{(use \string\callout)}
\let\luoji\defcallout
\def\WideNarrow#1#2{#1}
\def\PageLimitsNoLimits#1#2{#1}
\def\BibAlphaNumeric#1#2{#1}
\def\Figure{Figure}
\def\Section{Section}
\def\Equation{Equation}
\def\Figures{Figures}
\def\Sections{Sections}
\def\Equations{Equations}
